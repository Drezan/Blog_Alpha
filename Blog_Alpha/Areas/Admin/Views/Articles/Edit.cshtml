@model Blog_Alpha.Models.ViewModels.ArticleVM
@{
    ViewData["Title"] = "Edit Article";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<br />
<h1>Edit Article || #@Model.Article.Id.ToString() - @Model.Article.Title </h1>
<hr />
<form method="post" asp-action="Edit" enctype="multipart/form-data">
    <input type="hidden" asp-for="Article.Id" />
    <div class="col-10 offset-1 mt-4">
        <div class="form-group">
            <div class="row">
                <div class="col-12">
                    <label asp-for="Article.Title" class="form-label">Article's Title</label>
                    <input asp-for="Article.Title" class="form-control" type="text" placeholder="Title">
                    <span asp-validation-for="Article.Title" class="text-danger"></span>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-12">
                    <label asp-for="Article.Description" class="form-label">Description</label>
                    <input asp-for="Article.Description" class="form-control" type="text" placeholder="Description">
                    <span asp-validation-for="Article.Description" class="text-danger"></span>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-12">
                    <label asp-for="Article.MessageText" class="form-label">Content</label>
                    <textarea asp-for="Article.MessageText" class="form-control" type="text" placeholder="Write an articule here..." rows="20" cols="50" maxlength="5000"></textarea>
                    <span asp-validation-for="Article.MessageText" class="text-danger"></span>
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-12">
                    <label asp-for="Article.ImageUrl" class="form-label">Image</label>
                    <input asp-for="Article.ImageUrl" class="form-control" type="file" placeholder="ImageUrl">
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-12">
                    <img src="\@Model.Article.ImageUrl" width="50%" style="border-radius: 5px; border: 1px solid #272b30;" />
                </div>
            </div>
            <br />
            <div class="row">
                <div class="col-6">
                    <label asp-for="Article.CategoryId">Category</label>
                    @Html.DropDownListFor(c => c.Article.CategoryId, Model.CategoryList, "Please select an category for this article.", new { @class = "form-control" })
                </div>
            </div>

        </div>

        <div class="form-group row col-7">
            <div class="col-9 offset-7">
                <div class="row">
                    <div class="col">
                        <button type="submit" class="btn btn-outline-success form-control" asp-route-id="@Model.Article.Id">Update</button>
                        &nbsp;
                    </div>
                    <div class="col">
                        <a asp-action="Index" class="btn btn-outline-danger form-control">Cancel</a>
                    </div>
                </div>
            </div>
        </div>


        <div class="row">
            <div asp-validation-summary="ModelOnly" class="alert alert-danger" role="alert"></div>
        </div>
    </div>
</form>

@section Scripts{
    <script src="https://cdn.tiny.cloud/1/h565sv87mr76jun15fze9oax2pvvqf4gncns1l6cligex5tg/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
    <script type="text/javascript">
        tinymce.init({
            selector: '#MessageText',
            plugins: 'lists',
            menubar: 'file edit format'
        });
    </script>
    <script src="~/js/article.js"></script>
}

